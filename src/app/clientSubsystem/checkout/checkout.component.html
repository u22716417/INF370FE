<div class="container mt-5">
  <h2>Order Summary</h2>
  <div class="card">
    <div class="card-body">
      <ul class="list-group list-group-flush">
        <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let item of cartItems">
          <div class="d-flex flex-column">
            <h5>{{ item.title }}</h5>
            <small>Price: {{ item.price | currency: 'ZAR' }} x {{ item.quantity }}</small>
          </div>
          <span>Total: {{ item.price * item.quantity  | currency: 'R'}}</span>
        </li>
      </ul>
      <hr>
      <div class="d-flex justify-content-between">
        <h5>Subtotal:</h5>
        <h5>{{ total | currency: 'R' }}</h5>
      </div>
      <div class="d-flex justify-content-between">
        <h5>VAT (15%):</h5>
        <h5>{{ vat | currency: 'R' }}</h5>
      </div>
      <div class="d-flex justify-content-between">
        <h5>Discount:</h5>
        <h5>-{{ discountAmount | currency: 'R' }}</h5>
      </div>
      <hr>
      <div class="d-flex justify-content-between">
        <h3>Grand Total:</h3>
        <h3>{{ grandTotal | currency: 'R' }}</h3>
      </div>
    </div>
  </div>
  <div class="mt-3">
      <input type="text" class="form-control" [(ngModel)]="couponCode" placeholder="Enter Coupon Code">
      <button class="btn btn-success mt-2" (click)="applyCoupon()">Apply Coupon</button>
      <div *ngIf="errorMessage" class="text-danger mt-2">{{ errorMessage }}</div>
  </div>
  <a class="btn btn-primary mt-3" routerLink="/component/payfast">Make Payment</a>
</div>
