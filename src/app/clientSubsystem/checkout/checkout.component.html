<div class="container mt-5">
  <h2>Order Summary</h2>
  <div class="card">
    <div class="card-body">
      <ul class="list-group list-group-flush">
        <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let item of cartItems">
          <div class="d-flex flex-column">
            <h5>{{ item.title }}</h5>
            <small>Price: {{ item.price | currency: 'ZAR' }} x {{ item.quantity }}
              <button class="btn-quantity" (click)="decreaseQuantity(item.id)">-</button>
              <span class="item-quantity">{{ item.quantity }}</span>
              <button class="btn-quantity" (click)="increaseQuantity(item.id)">+</button>
              
            </small>
      
          </div>
          <span>Total: {{ item.price * item.quantity  | currency: 'R'}}</span>
        </li>
      </ul>
      <hr>
      <div class="d-flex justify-content-between">
        <h5>Subtotal:</h5>
        <h5>{{ total | currency: 'R' }}</h5>
      </div>
      <div class="d-flex justify-content-between">
        <h5>VAT (15%):</h5>
        <h5>{{ vat | currency: 'R' }}</h5>
      </div>
      <div class="d-flex justify-content-between">
        <h5>Discount:</h5>
        <h5>-{{ discountAmount | currency: 'R' }}</h5>
      </div>
      <hr>
      <div class="d-flex justify-content-between">
        <h3>Grand Total:</h3>
        <h3>{{ grandTotal | currency: 'R' }}</h3>
      </div>
    </div>
  </div>
  <div class="mt-3">
      <input type="text" class="form-control" [(ngModel)]="couponCode" placeholder="Enter Coupon Code">
      <button class="btn btn-success mt-2" (click)="applyCoupon()">Apply Coupon</button>
      <div *ngIf="errorMessage" class="text-danger mt-2">{{ errorMessage }}</div>
  </div>
  <a class="btn btn-primary mt-3" routerLink="/component/payfast">Make Payment</a>
</div>


<style>
  .btn-quantity {
  width: 30px;
  height: 30px;
  border: 1px solid #007bff;
  background-color: #fff;
  color: #007bff;
  font-weight: bold;
  border-radius: 50%;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  margin: 0 5px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-quantity:hover {
  background-color: #007bff;
  color: #fff;
}

.item-quantity {
  font-weight: bold;
  margin: 0 10px;
  min-width: 20px;
  display: inline-block;
  text-align: center;
}

</style>