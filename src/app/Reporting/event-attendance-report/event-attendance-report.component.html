<div class="container" id = 'reportContent'>
  <h2>Event Attendance Report</h2>
  
  <div class="d-flex justify-content-between align-items-start mb-4">
    <div class="card" style="width: 35%; margin-left: 0; justify-self: start;">
      <div class="card-body">
        <div class="d-flex gap-3">
          <div>
            <label for="startDate">Start Date:</label>
            <input type="date" id="startDate" [(ngModel)]="startDate" (change)="filterAttendanceByDate()" class="form-control">
          </div>

          <div>
            <label for="endDate">End Date:</label>
            <input type="date" id="endDate" [(ngModel)]="endDate" (change)="filterAttendanceByDate()" class="form-control">
          </div>
        </div>
      </div>
    </div>
  
    <div class="card" style="width: 30%; margin-left: 0; justify-self: start;">
      <div class="card-body">
        <p class="card-text">
          <strong>Generated by:</strong> {{ currentUserFullName }}<br>
          <strong>Report generated on:</strong> {{ reportGeneratedDate }}
        </p>
      </div>
    </div>
  </div>

  <button (click)="exportToPDF()" class="btn btn-primary mb-3">Export to PDF</button>
  <button (click)="exportToExcel()" class="btn btn-primary">Export toÂ Excel</button>
  <!-- Chart Column -->
  <div class="card mb-4" id = "chart">
    <div class="card-body">
      <div class="d-flex flex-column w-100" id="chart">
        <apx-chart 
          [series]="eventAttendanceChartOptions.series"
          [chart]="eventAttendanceChartOptions.chart"
          [labels]="eventAttendanceChartOptions.labels"
          [dataLabels]="eventAttendanceChartOptions.dataLabels"
          [tooltip]="eventAttendanceChartOptions.tooltip"
          [legend]="eventAttendanceChartOptions.legend"
          [colors]="eventAttendanceChartOptions.colors">
        </apx-chart>
      </div>
    </div>
  </div>

  <!-- Table Column -->
  <div class="card">
    <table id="reportTable" class="table table-striped">
      <thead>
        <tr>
          <th>Event Name</th>
          <th>Attendance Count</th>
          <th>Event Date</th>
          <th>Venue Name</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let record of filteredEventAttendance">
          <td>{{ record.eventName }}</td>
          <td>{{ record.evenAttendanceCount }}</td>
          <td>{{ record.eventDate | date: 'shortDate' }}</td>
          <td>{{ record.venueName }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>  

